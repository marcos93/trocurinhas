<!doctype html>

<html lang="en">
<head>
	<meta charset="utf-8">

	<title>Trocurinhas</title>
	<meta name="description" content="Trocurinhas">
	<meta name="author" content="Stutz Soluções">

	<link rel="stylesheet" href="css/reset.css">

	<link href='http://fonts.googleapis.com/css?family=Noto+Sans:400,700|Cabin+Condensed:400,700|Arimo:400,700|Roboto+Condensed:400,700|Archivo+Narrow' rel='stylesheet' type='text/css'>
	<link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400' rel='stylesheet' type='text/css'>


	<script src="js/knockout-min.js"></script>
	<script	src="js/jquery.min.js"></script>
	<link rel="stylesheet" href="css/jquery.mobile.min.css" />
	<script	src="js/jquery.mobile.min.js"></script>

	<script src="http://cdnjs.cloudflare.com/ajax/libs/knockout/3.1.0/knockout-min.js"></script>
	<script	src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
	<link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jquerymobile/1.4.2/jquery.mobile.min.css" />
	<script	src="http://ajax.googleapis.com/ajax/libs/jquerymobile/1.4.2/jquery.mobile.min.js"></script>

	<link rel="stylesheet" href="app.html.css">
	<script src="app.html.js"></script>
	<script src="js/mqttws31.js"></script>

	<!--[if lt IE 9]>
		<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
</head>

<body>
	
<!--     <header class="app-header">
      <div class="left-button">
        <input type="button" value="cancelar"/>
      </div>
      <h1 id="section-title">Pessoas próximas</h1>
      <div class="right-button">
        <input type="button" value="confirmar"/>
      </div>
    </header>
 -->
    <article id="figurinhas-procuradas">
      <header>
        <h1>Figurinhas que faltam</h1>
        <aside>Indique abaixo quais figurinhas <strong>faltam para você</strong> completar o álbum</aside>
      </header>

      <section class="listagem">
		<div data-bind="foreach: neededStickersModel.items">
			<div style="float: left; margin-right: 10px">
				<button class="ui-shadow ui-btn ui-corner-all"
					style="width: 80px; color: yellow"
					data-bind="text: number, 
						      click: $parent.neededStickersModel.toggleSelection,
						      style: { backgroundColor: selected() ? 'green' : '#999999' }"></button>
			</div>
		</div>
      </section>

    </article>

    <article id="figurinhas-repetidas">
      <header>
        <h1>Figurinhas repetidas</h1>
        <aside>Indique abaixo quais figurinhas <strong>você tem repetida</strong> e quer trocar</aside>
      </header>

      <section class="listagem">
		<div data-bind="foreach: availableStickersModel.items">
			<div style="float: left; margin-right: 10px">
				<button class="ui-shadow ui-btn ui-corner-all"
					style="width: 80px; color: yellow"
					data-bind="text: number, 
						      click: $parent.availableStickersModel.toggleSelection,
						      style: { backgroundColor: selected() ? 'green' : '#999999' }"></button>
			</div>
		</div>
      </section>

    </article>

    <article id="formulario-conexao">
      
      <header>
        <h1>Olá, conecte-se para encontrar pessoas e trocar as figurinhas</h1>
        <aside>
          Não precisa de cadastro! Apenas preencha o formulário abaixo e o aplicativo listará pessoas que estejam no bairro nesse momento querendo trocar figurinhas <a class="saiba mais">?</a>
        </aside>
      </header>  

      <section>
        <form class="form-connect">
          
          <div class="form-field">
            <input type="text" placeholder="Nome ou Apelido" data-bind="value:nickname" />
            <div class="input-subtitle">Ex.: Tiãozinho</div>
          </div>
          
          <div class="form-field">
            <input type="text" placeholder="Onde quer trocar as figurinhas?" data-bind="value:place" />
            <div class="input-subtitle">Ex.: Banca da 406 Norte, 13h30</div>
          </div>

          <div class="form-field">
            <input type="text" placeholder="Como te identificar?" data-bind="value:selfInfo" />
            <div class="input-subtitle">Ex.: Boné vermelho</div>
          </div>

          <button class="ui-shadow ui-btn ui-corner-all" data-bind="text: 'Conectar', click: connectAndPublishSelfInfo" />

        </form>

      </section>
    </article>

    <article id="lista-matches">

      <section class="pessoas" id="pessoas">
      	Matches
          <ul data-bind="foreach: receivedStickersScreen()">
            <li>
              <button data-bind="click:$parent.showArenaTroca">Test</button>
              <div class="grupo">
                <div class="col-identificacao">
                  <h2><span data-bind="text:nickname"></span></h2>
                  <div>
                    <em><span data-bind="text:place"></span></em>
                  </div>
                  <aside><span data-bind="text:timeElapsedInfo"></span></aside>
                </div>
                
                <div class="col-action">&gt;</div>                  
                <div class="col-quantidade"><span data-bind="text:availableStickers.length"></span></div>

              </div>              

            </li>

          </ul>
          <button data-bind="click:disconnectFromMQTTServer()">Disconnect</button>
      </section>  

      <section class="arena-troca" id="arena-troca" data-bind="with:selectedReceivedStickersInfo">
          <div class="identificacao">
            <h3><span data-bind="text:nickname"></h3>
            <!-- <span data-bind="text:timeElapsedInfo"> -->
            <aside><span data-bind="text:place"></aside>
          </div>
          <div class="listagens">
            <nav>
              <input type="button" value="Procurando" />
              <input type="button" value="Repetidas" />
            </nav>
            <div class="procuradas">
              <aside>figurinhas que <strong>você precisa</strong> e que essa pessoa tem</aside>
              <ul>
                <li><span data-bind="text:stickersForReceivingFromPeer.length"></li>
              </ul>
            </div>
            <div class="repetidas">
              <aside>figurinhas que <strong>você tem</strong> e que essa pessoa precisa</aside>
              <ul>
                <li><span data-bind="text:stickersForGivingToPeer.length"></li>
              </ul>
            </div>
          </div>
      </section>

    </article>

    <footer class="app-footer">
      <nav>
        <ul>
          <li class="first" onclick="vm.showSection('figurinhas-procuradas')">
            <div style="letter-spacing: 2px">]]]?]</div>
            Faltando
          </li>
          <li class="mid" onclick="vm.showSection('figurinhas-repetidas')">
            <div style="letter-spacing: 2px">[[[[[</div>
            Repetidas
          </li>
          <li class="last active" onclick="vm.showResultados()">
            <div style="font-family: monospace; font-size:14px; letter-spacing: 0px;">
              \<span style="font-size:10px">o</span>/
            </div>
            Trocar agora
          </li>
        </ul>
      </nav>
    </footer>

	<script>
		var vm = new AppModel();
		ko.applyBindings(vm);
	</script>

</body>
</html>
